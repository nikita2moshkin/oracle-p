<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ORACLE.P | ECAL TYPE SYSTEM</title>  
    <style>  
        :root {
            --bg-color: #000;
            --text-color: #fff;
            --p-color: #222; /* Серая P для темной темы */
        }

        body, html {  
            margin: 0; padding: 0; width: 100%; height: 100%;  
            background-color: var(--bg-color); color: var(--text-color); 
            overflow: hidden; text-transform: uppercase;  
            -webkit-user-select: none;  
            font-family: "Helvetica Neue", Arial, sans-serif; 
            transition: background-color 0.5s ease;
        }  

        body.white-mode { 
            --bg-color: #fff; 
            --text-color: #000; 
            --p-color: #eee; /* Светло-серая P для светлой темы */
        }
        
        #canvas { position: relative; width: 100vw; height: 100vh; overflow: hidden; }  
        
        .element { position: absolute; word-wrap: break-word; line-height: 0.8; opacity: 0; transition: opacity 0.4s ease; }  
        .visible { opacity: 1 !important; } 

        /* ШРИФТЫ ECAL */  
        .f1 { font-family: "Impact", sans-serif; font-weight: 900; letter-spacing: -0.04em; }  
        .f2 { font-family: "Helvetica Neue", sans-serif; font-weight: 200; letter-spacing: 0.05em; }  
        .f3 { font-family: "Georgia", serif; font-style: italic; text-transform: none; }  
        .f4 { font-family: "Courier New", monospace; font-weight: 400; }  
        .f5 { font-family: "Arial Black", sans-serif; font-weight: 900; transform: scaleY(1.1); }  
        .f6 { font-family: "Helvetica", sans-serif; font-weight: 900; }  
        .f7 { font-family: "Courier", monospace; font-weight: 700; border-bottom: 0.08em solid currentColor; }  
        .f8 { font-family: "Arial Black", sans-serif; font-weight: 900; letter-spacing: -0.02em; }  

        /* ГИГАНТСКАЯ СЕРАЯ P */ 
        .giant-bg {  
            font-size: 90vh; font-weight: 900; position: absolute; 
            top: 50%; left: 50%; transform: translate(-50%, -50%); 
            color: var(--p-color); z-index: 0; pointer-events: none; 
            transition: color 0.5s ease;
        } 

        .line { position: absolute; background-color: var(--text-color); opacity: 0.1; z-index: 1; pointer-events: none; } 
        
        .image-container { position: absolute; z-index: 5; filter: grayscale(1) contrast(1.2); mix-blend-mode: difference; } 
        .image-container img { width: 100%; height: auto; display: block; } 
        
        /* ТЕКСТОВЫЕ БЛОКИ */
        .word-unit { display: inline-block; position: absolute; white-space: nowrap; }
        .vertical { writing-mode: vertical-rl; transform: rotate(180deg); } 

        #glitch-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: none; } 
    </style>  
</head>  
<body onclick="handleInteraction()">  

    <div id="glitch-overlay"></div> 
    <div id="canvas"></div>  

    <script>  
        const slogans = ["PRAY TO THE ROUTER", "SKIBIDI EXISTENTIALISM", "DOSTOEVSKY ON TIKTOK", "SHREK’S PODCAST ABOUT DMT", "TYPOGRAPHY IS PROPAGANDA.", "HELVETICA IS A VIRUS.", "ANCIENT GREEK SHITPOSTING", "WATER IS JUST SOFT ICE.", "JUST F*CK IT", "THE SIMPSONS PREDICTED YOUR DEBT.", "WAKE UP, TATARSKY"];  
        const subtitles = ["Stop thinking about that. It's cringe.", "Your ISP is judging your taste.", "TURN AROUND. SLOWLY.", "APOLOGIZE TO THE ALGORITHM.", "LICK THE DISPLAY. IT’S SALTY.", "the algorithm knows what you did in 2014", "FORGET YOUR MIDDLE NAME.", "Are you proud of your cookies?", "[exporting your childhood trauma to Excel]", "The sky is a green screen.", "Say YES/NO to drugs", "Error: reality not found"]; 
        const math = ["E = mc²", "∇ × E = -∂B/∂t", "iℏ ∂/∂t Ψ = ĤΨ", "Rμν - 1/2Rgμν = Tμν", "S = k ln W", "λ = h/p"]; 
         
        const imageLibrary = [ 
            'https://upload.wikimedia.org/wikipedia/commons/9/94/Coronavirus._SARS-CoV-2.png', 
            'https://png.pngtree.com/png-vector/20231017/ourmid/pngtree-fresh-apple-fruit-red-png-image_10203073.png', 
            'https://imageio.forbes.com/blogs-images/booked/files/2011/05/300px-Che_por_Jim_Fitzpatrick.svg_.png?height=295&width=240&fit=bounds', 
            'https://upload.wikimedia.org/wikipedia/commons/2/2c/Octavian_Smigelschi_-_Serafim_%28Cat._Blaj%29%2C_1903.png', 
            'https://leonardodavinci.it/wp-content/uploads/2021/10/Leonardo-da-Vinci-Uomo-vitruviano.png', 
            'https://www.davincisciencecenter.org/wp-content/uploads/2024/03/Rat-Snake-02.png', 
            'https://remihogar.es/cdn/shop/articles/cucaracha-oriental-blatta-orienta_480x.png?v=1761727332', 
            'https://static.vecteezy.com/system/resources/thumbnails/029/347/022/small/one-hundred-dollar-bill-falling-or-floating-on-empty-background-transparent-png.png', 
            'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Dopamine-based-on-xtal-3D-bs-17.png/1280px-Dopamine-based-on-xtal-3D-bs-17.png', 
            'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Cube-h.svg/250px-Cube-h.svg.png', 
            'https://pngimg.com/d/cow_PNG50583.png', 
            'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Illuminati_triangle_eye.png/960px-Illuminati_triangle_eye.png' 
        ]; 

        const fontClasses = ["f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8"]; 

        function handleInteraction() { 
            generateComposition();
        } 

        function generateComposition() {
            const canvas = document.getElementById('canvas');
            canvas.innerHTML = '';
            
            // 10% шанс на белый фон
            document.body.classList.toggle('white-mode', Math.random() < 0.1);

            // 1. Рисуем серую P (Фундамент)
            createEl('giant-bg f6 visible', "P", {});

            // 2. Линии (редко и гламурно)
            if (Math.random() < 0.4) createDecorativeLines();

            // 3. Выбор режима композиции
            const roll = Math.random();
            if (roll < 0.05) {
                // РЕДКО: Гигантский текст (Poster)
                renderTypoCluster(slogans[Math.floor(Math.random()*slogans.length)], true);
            } else {
                // ЧАСТО: Разбросанная типографика (ECAL Style)
                const numPhrases = Math.floor(Math.random() * 2) + 1; 
                for(let i=0; i<numPhrases; i++) {
                    const text = Math.random() > 0.4 ? slogans[Math.floor(Math.random()*slogans.length)] : subtitles[Math.floor(Math.random()*subtitles.length)];
                    renderTypoCluster(text, false);
                }
            }

            // 4. Изображения (0-2 штуки, редко 3)
            const imgCount = Math.floor(Math.random() * 3); // 0, 1 или 2
            for(let i=0; i<imgCount; i++) {
                createImage(imageLibrary[Math.floor(Math.random()*imageLibrary.length)]);
            }

            // 5. Мелкие математические формулы
            if (Math.random() > 0.5) {
                createEl('element f4 visible', math[Math.floor(Math.random()*math.length)], {
                    left: Math.random()*80+'%', top: Math.random()*90+'%', fontSize: '1vw', opacity: 0.4
                });
            }
        }

        // Функция создания "Кластера типографики" - каждое слово разным шрифтом
        function renderTypoCluster(text, isGiant) {
            const words = text.split(' ');
            let startX = Math.random() * 60 + 5;
            let startY = Math.random() * 60 + 5;
            
            words.forEach((word, index) => {
                const isVertical = Math.random() > 0.8;
                const font = fontClasses[Math.floor(Math.random()*fontClasses.length)];
                
                let fontSize;
                if (isGiant) {
                    fontSize = (Math.random() * 10 + 10) + 'vw';
                } else {
                    fontSize = (Math.random() * 4 + 2) + 'vw';
                }

                const style = {
                    left: (startX + (isVertical ? 0 : index * 5)) + '%',
                    top: (startY + (isVertical ? index * 5 : 0)) + '%',
                    fontSize: fontSize,
                    zIndex: 10 + index
                };

                const wordEl = createEl('word-unit visible ' + font + (isVertical ? ' vertical' : ''), word, style);
            });
        }

        function createDecorativeLines() {
            const isVert = Math.random() > 0.5;
            createEl('line visible', '', {
                width: isVert ? '1px' : '100vw',
                height: isVert ? '100vh' : '1px',
                left: isVert ? (Math.floor(Math.random()*10)*10)+'%' : '0',
                top: isVert ? '0' : (Math.floor(Math.random()*10)*10)+'%'
            });
        }

        function createImage(src) {
            const width = Math.random() * 15 + 5; // Небольшие картинки
            const style = {
                width: width + 'vw',
                left: Math.random() * 80 + '%',
                top: Math.random() * 70 + '%',
                transform: `rotate(${(Math.random()-0.5)*30}deg)`
            };
            
            const container = createEl('image-container visible', '', style);
            const img = document.createElement('img');
            img.src = src;
            container.appendChild(img);
            return container;
        }

        function createEl(cls, txt, styles) {  
            const div = document.createElement('div');  
            div.className = 'element ' + cls;  
            if (txt) div.innerText = txt;  
            Object.assign(div.style, styles);  
            document.getElementById('canvas').appendChild(div);  
            return div;  
        }  

        window.onload = generateComposition;  
    </script>  
</body>  
</html>
