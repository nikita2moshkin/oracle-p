<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ORACLE.P | KINDLE EDITION</title>  
    <style>  
        /* Основной режим: DARK MODE (Черный фон, белый текст) */
        body, html {  
            margin: 0; padding: 0; width: 100%; height: 100%;  
            background-color: #000; color: #fff; 
            overflow: hidden; text-transform: uppercase;  
            -webkit-user-select: none;  
            font-family: "Helvetica Neue", "Arial", sans-serif;
        }  

        /* Редкий светлый режим (10%) */
        body.white-mode { background-color: #fff; color: #000; }
        body.white-mode .detail { border-color: #000; }
        body.white-mode .line { background-color: #000; }
        body.white-mode .image-container img { filter: grayscale(1); }

        /* Глитч: Белый экран (Тот самый первый баг) */
        body.glitch-white { background-color: #fff !important; }
        body.glitch-white * { visibility: hidden !important; }

        /* Глитч: Растяжение */
        body.glitch-stretch .element {
            transform: scaleX(2) skewX(20deg);
            opacity: 0.3;
        }

        #canvas { position: relative; width: 100vw; height: 100vh; }  
        .element { position: absolute; line-height: 0.8; word-wrap: break-word; }  

        /* Типографика */  
        .f-sans { font-family: "Helvetica Neue", "Arial", sans-serif; font-weight: 900; letter-spacing: -3px; }
        .f-impact { font-family: "Impact", "Arial Black", sans-serif; font-weight: 900; letter-spacing: -1px; } 
        .f-serif { font-family: "Georgia", serif; font-style: italic; font-weight: 400; text-transform: none; }  
        .f-mono { font-family: "Courier New", monospace; font-weight: 400; letter-spacing: -2px; }  

        /* Буква P: 80vh, жесткая привязка к краям */  
        .giant-p { 
            font-size: 80vh; 
            font-weight: 900; 
            z-index: 0; 
            position: absolute;
            line-height: 0.7;
        }  
        
        .giant-p.top-left { top: -8%; left: -5%; }
        .giant-p.top-right { top: -8%; right: -5%; text-align: right; }
        .giant-p.bottom-left { bottom: -18%; left: -5%; }
        .giant-p.bottom-right { bottom: -18%; right: -5%; text-align: right; }

        /* Ghosting (Наслоение) */
        .ghost { opacity: 0.3; z-index: -1; }

        .hero { font-size: 14vw; font-weight: 900; width: 95%; z-index: 100; letter-spacing: -4px; }  
        .sub-text { font-size: 5vw; font-weight: 400; z-index: 20; width: 85%; }  
        .detail { font-size: 4vw; z-index: 50; font-weight: 700; border: 4px solid #fff; padding: 4px 10px; }  

        .line { position: absolute; background-color: #fff; z-index: 5; }
        .image-container { position: absolute; z-index: 10; max-width: 70%; filter: invert(1) grayscale(1); }
        .image-container img { width: 100%; height: auto; display: block; }

    </style>  
</head>  
<body onclick="handleInteraction()">  

    <div id="canvas"></div>  

    <script>  
        const slogans = [  
            "Just F*ck It", "Don't Think Different", "Think! Think? ", "Believe in Worst", 
            "BECAUSE YOU'RE A PRODUCT", "Want a break from the ads?", "Enjoy the Emptiness", 
            "Keep Scrolling", "Save 50% on your karma", "Subscribe to Reality+", 
            "Limited time offer: Reincarnation", "God is a beta tester", "J-SUS X", 
            "Satan: Unsubscribe at any time", "iPhone!!! (New One)", 
            "Sold my data for a donut.", "Adam and Eva were smoking pot!", "Who still remembers Skype?", 
            "1000 Aura / One Million Likes", "Dinosaurs died from cringe", "We are cooked...", 
            "The world is over! (except Bali)", "WAKE UP, TATARSKY", "Don't Live. Watch.",  
            "War is Peace. Debt is Wealth.", "100% Organic Illusion", 
            "HTML IS NOT REAL / CSS IS PROPAGANDA", "404 B**CH!", 
            "Update your morality", "Control + Z: Undo your birth", "Netflix and Netflix", 
            "Your soul is cooked", "Admin_Root_Ishtar: BRUH", "ERROR: REALITY NOT FOUND"
        ];  

        const meta = ["MONEY?", "WHY?", "OBEY.", "CANCELLED", "SOLD OUT", "HEX: 0x53 0x4F 0x55 0x4C", "ADOBE IS TOO EXPENSIVE", "WAKE UP", "USER_NOT_FOUND", "DATA_MINING", "VOID", "PURE_ART"];  
        const fontClasses = ["f-sans", "f-impact", "f-serif", "f-mono"];  
        const pCorners = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];
        const imageUrl = 'https://domf5oio6qrcr.cloudfront.net/medialibrary/7349/7ae782c0-24f9-4128-97a9-8b64432bce76.jpg';

        function handleInteraction() {
            const rnd = Math.random();
            if (rnd < 0.05) { // 5% Первый баг (Белый экран)
                triggerEffect('glitch-white', 600);
            } else if (rnd < 0.08) { // 3% Растяжение
                triggerEffect('glitch-stretch', 300);
            } else {
                spawn();
            }
        }

        function triggerEffect(cls, ms) {
            document.body.classList.add(cls);
            setTimeout(() => { document.body.classList.remove(cls); spawn(); }, ms);
        }

        function spawn() {  
            const canvas = document.getElementById('canvas'); 
            const isWhiteMode = Math.random() < 0.1; // 10% шанс на белый фон
            
            document.body.className = isWhiteMode ? 'white-mode' : '';
            canvas.innerHTML = '';

            // 1. ГРАФИКА: Линии (Увеличено количество)
            const lineCount = Math.floor(Math.random() * 6) + 4;
            for (let i = 0; i < lineCount; i++) createLine(Math.random() > 0.5);

            // 2. БУКВА P (80vh, Impact/Sans)
            const pClass = pCorners[Math.floor(Math.random() * pCorners.length)];
            const pFont = Math.random() > 0.4 ? 'f-impact' : 'f-sans';
            createEl('giant-p ' + pClass + ' ' + pFont, "P", {});
            
            // Наслоение P (Ghosting)
            if (Math.random() > 0.7) {
                createEl('giant-p ghost ' + pClass + ' ' + pFont, "P", {
                    transform: `translate(${Math.random()*20}px, ${Math.random()*20}px)`
                });
            }

            // 3. КАРТИНКА (40%)
            if (Math.random() < 0.4) createImage(imageUrl);

            // 4. СЛОГАН
            const slogan = slogans[Math.floor(Math.random() * slogans.length)];  
            const hero = createEl('hero f-impact', "", { left: '5%', top: (15 + Math.random() * 50) + '%' });  
            slogan.split(' ').forEach(word => {  
                const span = document.createElement('span');  
                span.innerText = word;  
                span.style.display = "inline-block";
                span.style.marginRight = "12px";
                if (Math.random() > 0.8) span.className = fontClasses[Math.floor(Math.random() * fontClasses.length)];  
                hero.appendChild(span);  
            });  

            // 5. МЕТА И ДЕТАЛИ
            createEl('sub-text f-mono', meta[Math.floor(Math.random()*meta.length)], { left: '5%', bottom: '5%' });  
            
            const detailCount = 2 + Math.floor(Math.random() * 3);
            for(let i=0; i<detailCount; i++) {  
                createEl('detail ' + fontClasses[Math.floor(Math.random()*4)], meta[Math.floor(Math.random()*meta.length)], {  
                    right: '5%', top: (Math.random() * 85 + 5) + '%'  
                });  
            }  
        }  

        function createEl(cls, txt, styles) {  
            const div = document.createElement('div');  
            div.className = 'element ' + cls;  
            if (txt) div.innerText = txt;  
            Object.assign(div.style, styles);  
            document.getElementById('canvas').appendChild(div);  
            return div;  
        }  

        function createLine(isVertical) {
            const line = document.createElement('div');
            line.className = 'line';
            const thickness = (Math.random() * 4 + 1) + 'px';
            if (isVertical) {
                line.style.width = thickness; line.style.height = '100vh';
                line.style.left = (Math.random() * 100) + '%'; line.style.top = '0';
            } else {
                line.style.width = '100vw'; line.style.height = thickness;
                line.style.top = (Math.random() * 100) + '%'; line.style.left = '0';
            }
            document.getElementById('canvas').appendChild(line);
        }

        function createImage(src) {
            const container = document.createElement('div');
            container.className = 'image-container';
            container.style.top = (Math.random() * 60) + '%';
            container.style.left = (Math.random() * 50) + '%';
            const img = document.createElement('img');
            img.src = src;
            container.appendChild(img);
            document.getElementById('canvas').appendChild(container);
        }

        window.onload = spawn;  
    </script>  
</body>  
</html>
