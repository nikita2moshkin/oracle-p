<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ORACLE.P | ECAL ADMISSION PROJECT</title>  
    <style>  
        :root {
            --bg-color: #000;
            --text-color: #fff;
            --accent-opacity: 0.15;
        }

        body, html {  
            margin: 0; padding: 0; width: 100%; height: 100%;  
            background-color: var(--bg-color); color: var(--text-color); 
            overflow: hidden; text-transform: uppercase;  
            -webkit-user-select: none;  
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; 
            transition: background-color 0.4s ease;
        }  

        body.white-mode { --bg-color: #fff; --text-color: #000; --accent-opacity: 0.1; }
        
        #canvas { position: relative; width: 100vw; height: 100vh; overflow: hidden; }  
        
        .element { position: absolute; word-wrap: break-word; line-height: 0.82; opacity: 0; transition: opacity 0.6s ease; }  
        .visible { opacity: 1 !important; } 

        /* ТИПОГРАФИКА: КОНТРАСТ ВЕСОВ */  
        .f1 { font-family: "Impact", sans-serif; font-weight: 900; letter-spacing: -0.04em; }  
        .f2 { font-family: "Helvetica Neue", sans-serif; font-weight: 200; letter-spacing: 0.08em; }  
        .f3 { font-family: "Georgia", serif; font-style: italic; text-transform: none; }  
        .f4 { font-family: "Courier New", monospace; font-weight: 400; letter-spacing: -0.02em; }  
        .f5 { font-family: "Arial Black", sans-serif; font-weight: 900; transform: scaleY(1.1); }  
        .f6 { font-family: "Helvetica", sans-serif; font-weight: 900; }  
        .f7 { font-family: "Courier", monospace; font-weight: 700; border-bottom: 0.05em solid currentColor; }  
        .f8 { font-family: "Arial Black", sans-serif; font-weight: 900; letter-spacing: -0.01em; }  

        /* СИСТЕМНЫЕ ЭЛЕМЕНТЫ */
        .line { position: absolute; background-color: var(--text-color); opacity: var(--accent-opacity); z-index: 1; pointer-events: none; } 
        .artifact { position: absolute; background: currentColor; opacity: 0.5; z-index: 200; mix-blend-mode: exclusion; }

        /* ИЗОБРАЖЕНИЯ */
        .image-container { position: absolute; z-index: 5; filter: grayscale(1) contrast(1.1); mix-blend-mode: difference; transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); } 
        .image-container img { width: 100%; height: auto; display: block; } 
        
        .flash-active { opacity: 1 !important; width: 100vw !important; height: 100vh !important; top: 0 !important; left: 0 !important; z-index: 1000 !important; filter: grayscale(0) invert(1) !important; mix-blend-mode: normal !important;}
        .flash-ghost { opacity: 0.1 !important; filter: grayscale(1) blur(10px) !important; z-index: -1 !important; mix-blend-mode: normal !important; }
        .image-shadow { opacity: 0.08 !important; filter: grayscale(1); mix-blend-mode: normal; z-index: -1; } 

        /* ТЕКСТОВЫЕ БЛОКИ */
        .hero { z-index: 100; max-width: 95%; } 
        .meta-text { font-size: 0.9vw; opacity: 0.6; z-index: 110; pointer-events: none; }
        .edge-text { font-size: 1.2vw; z-index: 110; padding: 20px; white-space: nowrap; font-weight: 700; } 
        .vertical { writing-mode: vertical-rl; transform: rotate(180deg); } 

        #glitch-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: none; } 
    </style>  
</head>  
<body onclick="handleInteraction()">  

    <div id="glitch-overlay"></div> 
    <div id="canvas"></div>  

    <script>  
        const slogans = ["PRAY TO THE ROUTER", "SKIBIDI EXISTENTIALISM", "DOSTOEVSKY ON TIKTOK", "SHREK’S PODCAST ABOUT DMT", "TYPOGRAPHY IS PROPAGANDA.", "HELVETICA IS A VIRUS.", "ANCIENT GREEK SHITPOSTING", "WATER IS JUST SOFT ICE.", "JUST F*CK IT", "THE SIMPSONS PREDICTED YOUR DEBT.", "WAKE UP, TATARSKY"];  
        const subtitles = ["Stop thinking about that. It's cringe.", "Your ISP is judging your taste.", "TURN AROUND. SLOWLY.", "APOLOGIZE TO THE ALGORITHM.", "LICK THE DISPLAY. IT’S SALTY.", "the algorithm knows what you did in 2014", "FORGET YOUR MIDDLE NAME.", "Are you proud of your cookies?", "[exporting your childhood trauma to Excel]", "The sky is a green screen.", "Say YES/NO to drugs", "Error: reality not found"]; 
        const math = ["E = mc²", "∇ × E = -∂B/∂t", "iℏ ∂/∂t Ψ = ĤΨ", "Rμν - 1/2Rgμν = Tμν", "S = k ln W", "λ = h/p"]; 
        const meta = ["{system: active}", "LMAO", "RESET", "ABORT", "VOID", "0x534F554C", "42", "AMEN", "ECAL-2026"];  
         
        const imageLibrary = [ 
            'https://upload.wikimedia.org/wikipedia/commons/9/94/Coronavirus._SARS-CoV-2.png', 
            'https://png.pngtree.com/png-vector/20231017/ourmid/pngtree-fresh-apple-fruit-red-png-image_10203073.png', 
            'https://imageio.forbes.com/blogs-images/booked/files/2011/05/300px-Che_por_Jim_Fitzpatrick.svg_.png?height=295&width=240&fit=bounds', 
            'https://static.vecteezy.com/system/resources/previews/053/687/197/non_2x/severely-rotten-apple-with-dark-mold-and-extensive-decay-on-transparent-background-png.png', 
            'https://upload.wikimedia.org/wikipedia/commons/2/2c/Octavian_Smigelschi_-_Serafim_%28Cat._Blaj%29%2C_1903.png', 
            'https://leonardodavinci.it/wp-content/uploads/2021/10/Leonardo-da-Vinci-Uomo-vitruviano.png', 
            'https://www.davincisciencecenter.org/wp-content/uploads/2024/03/Rat-Snake-02.png', 
            'https://remihogar.es/cdn/shop/articles/cucaracha-oriental-blatta-orienta_480x.png?v=1761727332', 
            'https://static.vecteezy.com/system/resources/thumbnails/029/347/022/small/one-hundred-dollar-bill-falling-or-floating-on-empty-background-transparent-png.png', 
            'https://3dgladiator.com/wp-content/themes/dddgladiator/assets/img/teeth-model/intro-model.png', 
            'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Dopamine-based-on-xtal-3D-bs-17.png/1280px-Dopamine-based-on-xtal-3D-bs-17.png', 
            'https://www.coca-cola.com/content/dam/onexp/ch/de/brands/coca-cola/new-packshots-december-2024/transparent_background_cco_pet.png', 
            'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Cube-h.svg/250px-Cube-h.svg.png', 
            'https://pngimg.com/d/cow_PNG50583.png', 
            'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Illuminati_triangle_eye.png/960px-Illuminati_triangle_eye.png' 
        ]; 

        let isLocked = false; 
        const fontClasses = ["f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8"]; 

        function handleInteraction() { 
            if (isLocked) return; 
            const roll = Math.random();
            if (roll < 0.05) triggerHardGlitch(); 
            else generateComposition();
        } 

        async function triggerHardGlitch() { 
            isLocked = true; 
            const overlay = document.getElementById('glitch-overlay'); 
            overlay.style.display = 'block'; overlay.innerHTML = ''; 
            for (let i = 0; i < 30; i++) { 
                createEl('element visible ' + fontClasses[Math.floor(Math.random()*8)], meta[Math.floor(Math.random()*meta.length)], { 
                    left: Math.random()*100+'%', top: Math.random()*100+'%', fontSize: Math.random()*8+'vw' 
                }, overlay); 
            } 
            setTimeout(() => { overlay.style.display = 'none'; isLocked = false; generateComposition(); }, 800);
        } 

        function generateComposition() {
            const canvas = document.getElementById('canvas');
            canvas.innerHTML = '';
            document.body.classList.toggle('white-mode', Math.random() < 0.2);

            const recipes = ['grid', 'poster', 'archive', 'artifact'];
            const selectedRecipe = recipes[Math.floor(Math.random() * recipes.length)];
            
            // Базовые линии (гламурно и мало)
            if (Math.random() < 0.7) createDecorativeLines();

            switch(selectedRecipe) {
                case 'grid': layoutGrid(); break;
                case 'poster': layoutPoster(); break;
                case 'archive': layoutArchive(); break;
                case 'artifact': layoutArtifact(); break;
            }
        }

        // --- РЕЦЕПТЫ ВЕРСТКИ ---

        function layoutGrid() {
            // Строгая сетка
            const col = Math.floor(Math.random() * 4) * 20 + 10;
            createTextBlock(slogans[0], true, { left: col + '%', top: '20%', width: '40vw' }).classList.add('visible');
            createEl('edge-text f4 visible', subtitles[0], { left: col + '%', top: '65%', width: '30vw', fontSize: '1.5vw' });
            createImage(imageLibrary[1], 'normal', { right: '10%', top: '10%', width: '25vw' }).classList.add('visible');
            addMetaInfo();
        }

        function layoutPoster() {
            // Огромный текст, маленькая картинка
            const txt = slogans[Math.floor(Math.random()*slogans.length)];
            const size = txt.length > 12 ? '15vw' : '22vw';
            const block = createTextBlock(txt, true, { left: '5%', top: '15%', fontSize: size });
            block.classList.add('visible');
            
            if(Math.random() > 0.5) {
                createImage(imageLibrary[0], 'flash').classList.add('visible');
            }
            addMetaInfo();
        }

        function layoutArchive() {
            // Много маленьких картинок
            for(let i=0; i<8; i++) {
                const img = createImage(imageLibrary[Math.floor(Math.random()*imageLibrary.length)], 'normal', {
                    width: '8vw', left: (i*12) + 2 + '%', top: (Math.random()*70 + 10) + '%'
                });
                img.classList.add('visible');
            }
            createTextBlock(meta[0], false, { left: '40%', top: '80%', fontSize: '5vw' }).classList.add('visible');
        }

        function layoutArtifact() {
            // Хаос и полосы
            for(let i=0; i<10; i++) createArtifact();
            const block = createTextBlock(slogans[1], true, { left: '10%', top: '30%', fontSize: '25vw', zIndex: '300' });
            block.classList.add('visible');
            createImage(imageLibrary[2], 'flash').classList.add('visible');
        }

        // --- ХЕЛПЕРЫ ---

        function createTextBlock(txt, isHero, styles) {
            const block = createEl(isHero ? 'hero' : 'sub-hero', '', styles);
            txt.split(' ').forEach(word => {
                const span = document.createElement('span');
                span.innerText = word + ' ';
                span.className = fontClasses[Math.floor(Math.random()*8)];
                block.appendChild(span);
            });
            return block;
        }

        function createArtifact() {
            const a = createEl('artifact visible', '', {
                width: Math.random() > 0.5 ? Math.random()*100+'vw' : '2px',
                height: Math.random() > 0.5 ? '2px' : Math.random()*100+'vh',
                left: Math.random()*100+'vw',
                top: Math.random()*100+'vh'
            });
        }

        function createDecorativeLines() {
            for(let i=0; i<3; i++) {
                const isVert = Math.random() > 0.5;
                createEl('line visible', '', {
                    width: isVert ? '1px' : '100vw',
                    height: isVert ? '100vh' : '1px',
                    left: isVert ? (Math.floor(Math.random()*10)*10)+'%' : '0',
                    top: isVert ? '0' : (Math.floor(Math.random()*10)*10)+'%'
                });
            }
        }

        function addMetaInfo() {
            createEl('edge-text f4 visible', "ID_"+Math.random().toString(16).slice(2,8), { bottom: '0', left: '0' });
            createEl('edge-text f4 visible vertical', "REF. ECAL_SYS_v2", { top: '0', right: '0' });
            createEl('meta-text f4 visible', math[Math.floor(Math.random()*math.length)], { bottom: '5%', right: '5%' });
        }

        function createImage(src, type, customStyles = {}) {
            const container = document.createElement('div');
            container.className = 'image-container element';
            
            if (type === 'flash') {
                container.classList.add('flash-active');
                setTimeout(() => {
                    container.classList.remove('flash-active');
                    container.classList.add('flash-ghost');
                }, 700);
            } else {
                Object.assign(container.style, customStyles);
            }
            
            const img = document.createElement('img');
            img.src = src || imageLibrary[0];
            container.appendChild(img);
            document.getElementById('canvas').appendChild(container);
            return container;
        }

        function createEl(cls, txt, styles, parent = null) {  
            const div = document.createElement('div');  
            div.className = 'element ' + cls;  
            if (txt) div.innerText = txt;  
            Object.assign(div.style, styles);  
            (parent || document.getElementById('canvas')).appendChild(div);  
            return div;  
        }  

        window.onload = generateComposition;  
    </script>  
</body>  
</html>
