<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ORACLE.P | KINDLE FINAL</title>  
    <style>  
        body, html {  
            margin: 0; padding: 0; width: 100%; height: 100%;  
            background-color: #000; color: #fff; 
            overflow: hidden; text-transform: uppercase;  
            -webkit-user-select: none;  
            font-family: "Helvetica Neue", Arial, sans-serif;
        }  

        body.white-mode { background-color: #fff; color: #000; }
        body.white-mode .line { background-color: #000; }
        body.glitch-white { background-color: #fff !important; }
        body.glitch-white * { visibility: hidden !important; }

        #canvas { position: relative; width: 100vw; height: 100vh; overflow: hidden; }  
        
        /* Элементы с плавным появлением */
        .element { position: absolute; word-wrap: break-word; line-height: 0.8; opacity: 0; transition: opacity 0.3s; }  
        .visible { opacity: 1 !important; }

        /* Шрифты */  
        .f-sans { font-family: "Helvetica Neue", sans-serif; font-weight: 900; letter-spacing: -3px; }
        .f-impact { font-family: "Impact", sans-serif; font-weight: 900; letter-spacing: -1px; } 
        .f-serif { font-family: "Georgia", serif; font-style: italic; text-transform: none; }  
        .f-mono { font-family: "Courier New", monospace; font-weight: 400; letter-spacing: -2px; }  

        /* Статичная P с отступом */  
        .giant-p { 
            font-size: 45vh; font-weight: 900; z-index: 0; 
            position: absolute; top: 5%; left: 5%; 
            opacity: 0.3; pointer-events: none; line-height: 0.7;
        }  
        
        .line { position: absolute; background-color: rgba(255,255,255,0.5); z-index: 1; }
        .image-container { position: absolute; z-index: 5; filter: invert(1) grayscale(1); mix-blend-mode: difference; }
        .image-container img { width: 100%; height: auto; display: block; image-rendering: pixelated; }

        .hero { z-index: 100; max-width: 90%; font-size: 13vw; }  
        .sub-hero { z-index: 90; max-width: 80%; font-size: 5.5vw; opacity: 0.8; }
        
        /* Нижний правый текст */
        .meta-footer { position: absolute; bottom: 40px; right: 40px; z-index: 110; font-size: 3vw; text-align: right; }

        .chaos-item { position: absolute; z-index: 999; pointer-events: none; }
    </style>  
</head>  
<body onclick="handleInteraction()">  

    <div id="canvas">
        <div class="element giant-p f-impact visible">P</div>
    </div>  

    <script>  
        const slogans = ["PRAY TO THE ROUTER", "SKIBIDI EXISTENTIALISM", "DOSTOEVSKY ON TIKTOK", "SHREK’S PODCAST ABOUT DMT", "TYPOGRAPHY IS PROPAGANDA.", "HELVETICA IS A VIRUS.", "ANCIENT GREEK SHITPOSTING", "WATER IS JUST SOFT ICE.", "JUST F*CK IT", "THE SIMPSONS PREDICTED YOUR DEBT.", "WAKE UP, TATARSKY"];  
        const subtitles = ["Stop thinking about that. It's cringe.", "Your ISP is judging your taste.", "TURN AROUND. SLOWLY. (prank)", "APOLOGIZE TO THE ALGORITHM.", "LICK THE DISPLAY. IT’S SALTY.", "FORGET YOUR MIDDLE NAME.", "The sky is a green screen.", "Say YES/NO to drugs"];
        const meta = ["{status: waiting}", "LMAO", "RESET", "ABORT", "VOID", "BRUH", "0x534F554C", "42", "AMEN", "100%"];  
        
        const imageLibrary = [
            'https://24smi.org/public/media/290x360/celebrity/2016/04/29/1461942758-vanga.jpg',
            'https://i.redd.it/2m5h881d4uh81.jpg',
            'https://images-cdn.ubuy.co.in/63a07047a023683963549705-laminated-pop-art-che-guevara-portrait.jpg',
            'https://png.pngtree.com/png-vector/20231017/ourmid/pngtree-fresh-apple-fruit-red-png-image_10203073.png',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Anonymous_emblem.svg/1280px-Anonymous_emblem.svg.png'
        ];

        let clickCounter = 0;
        const fontClasses = ["f-sans", "f-impact", "f-serif", "f-mono"];

        const delay = ms => new Promise(res => setTimeout(res, ms));

        function handleInteraction() {
            clickCounter++;
            const rnd = Math.random();
            
            // Редкие баги
            if (clickCounter > 5) {
                if (rnd < 0.03) return triggerGlitch('glitch-white', 400);
                if (rnd < 0.06) return visualChaos();
            }
            
            sequentialSpawn();
        }

        function triggerGlitch(cls, ms) {
            document.body.classList.add(cls);
            setTimeout(() => { document.body.classList.remove(cls); sequentialSpawn(); }, ms);
        }

        function visualChaos() {
            const canvas = document.getElementById('canvas');
            canvas.innerHTML = '';
            for (let i = 0; i < 30; i++) {
                createEl('chaos-item ' + fontClasses[Math.floor(Math.random()*4)], meta[Math.floor(Math.random()*meta.length)], {
                    top: Math.random() * 100 + '%', left: Math.random() * 100 + '%',
                    fontSize: (Math.random() * 12 + 2) + 'vw', transform: `rotate(${Math.random() * 360}deg)`, opacity: 1
                }).classList.add('visible');
            }
        }

        async function sequentialSpawn() {  
            const canvas = document.getElementById('canvas'); 
            const pElement = canvas.querySelector('.giant-p');
            canvas.innerHTML = '';
            canvas.appendChild(pElement);
            
            const isGrid = Math.random() < 0.4;
            document.body.className = (Math.random() < 0.1) ? 'white-mode' : '';

            // 1. ЛИНИИ (разная толщина, без наложения)
            const usedCoords = new Set();
            for (let i = 0; i < (isGrid ? 8 : 4); i++) {
                const line = createLine(isGrid, usedCoords);
                if (line) {
                    await delay(40);
                    line.classList.add('visible');
                }
            }

            // 2. КАРТИНКИ (Редко, большие или средние)
            if (Math.random() < 0.25) {
                const img = createImage(imageLibrary[Math.floor(Math.random() * imageLibrary.length)]);
                await delay(100);
                img.classList.add('visible');
            }

            // 3. ТЕКСТОВЫЕ БЛОКИ
            const textCount = isGrid ? 2 : Math.floor(Math.random() * 2) + 1;
            for(let i = 0; i < textCount; i++) {
                const isHero = (i === 0);
                const txt = isHero ? slogans[Math.floor(Math.random()*slogans.length)] : subtitles[Math.floor(Math.random()*subtitles.length)];
                const block = createTextBlock(txt, isHero, isGrid);
                await delay(150);
                block.classList.add('visible');
            }

            // 4. НИЖНИЙ МЕТА-ТЕКСТ (Справа)
            const footer = createEl('meta-footer f-mono', meta[Math.floor(Math.random()*meta.length)], {});
            await delay(100);
            footer.classList.add('visible');
        }  

        function createEl(cls, txt, styles) {  
            const div = document.createElement('div');  
            div.className = 'element ' + cls;  
            if (txt) div.innerText = txt;  
            Object.assign(div.style, styles);  
            document.getElementById('canvas').appendChild(div);  
            return div;  
        }  

        function createLine(isGrid, used) {
            const line = document.createElement('div');
            line.className = 'line element';
            const isVert = Math.random() > 0.5;
            const thick = Math.floor(Math.random() * 4) + 1 + 'px';
            
            let pos = isGrid ? (Math.floor(Math.random()*9)*10 + 5) : (Math.floor(Math.random()*90) + 5);
            if (used.has(pos)) return null; // Проверка наложения
            used.add(pos);

            if (isVert) {
                line.style.width = thick; line.style.height = '100vh'; line.style.left = pos + '%';
            } else {
                line.style.width = '100vw'; line.style.height = thick; line.style.top = pos + '%';
            }
            document.getElementById('canvas').appendChild(line);
            return line;
        }

        function createImage(src) {
            const container = document.createElement('div');
            container.className = 'image-container element';
            const isBig = Math.random() < 0.4;
            container.style.width = isBig ? (Math.random() * 30 + 40) + '%' : (Math.random() * 20 + 15) + '%';
            container.style.top = (Math.random() * 40 + 10) + '%';
            container.style.left = (Math.random() * 40 + 10) + '%';
            const img = document.createElement('img');
            img.src = src;
            container.appendChild(img);
            document.getElementById('canvas').appendChild(container);
            return container;
        }

        function createTextBlock(txt, isHero, isGrid) {
            const font = fontClasses[Math.floor(Math.random() * fontClasses.length)];
            const styles = {
                left: isGrid ? '10%' : (Math.random()*40+5) + '%',
                top: isGrid ? (isHero ? '20%' : '60%') : (Math.random()*50+20) + '%',
                transform: `rotate(${(Math.random()*4-2)}deg)`
            };
            return createEl(isHero ? `hero ${font}` : `sub-hero ${font}`, txt, styles);
        }

        window.onload = sequentialSpawn;  
    </script>  
</body>  
</html>
