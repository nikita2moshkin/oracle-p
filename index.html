<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ORACLE.P | HYBRID SYSTEM</title>  
    <style>  
        body, html {  
            margin: 0; padding: 0; width: 100%; height: 100%;  
            background-color: #000; color: #fff; 
            overflow: hidden; text-transform: uppercase;  
            -webkit-user-select: none;  
            font-family: "Helvetica Neue", Arial, sans-serif;
        }  

        body.white-mode { background-color: #fff; color: #000; }
        body.white-mode .line { background-color: #000; }
        
        #canvas { position: relative; width: 100vw; height: 100vh; overflow: hidden; }  
        .element { position: absolute; word-wrap: break-word; line-height: 0.85; opacity: 0; transition: opacity 0.5s ease-in-out; }  
        .visible { opacity: 1 !important; }

        /* ТИПОГРАФИКА */  
        .f1 { font-family: "Impact", sans-serif; font-weight: 800; letter-spacing: -0.02em; } 
        .f2 { font-family: "Helvetica Neue", sans-serif; font-weight: 200; letter-spacing: 0.05em; } 
        .f3 { font-family: "Georgia", serif; font-style: italic; text-transform: none; } 
        .f4 { font-family: "Courier New", monospace; font-weight: 400; } 
        .f5 { font-family: "Arial Black", sans-serif; font-weight: 800; transform: scaleX(0.9); transform-origin: left; } 
        .f6 { font-family: "Helvetica", sans-serif; font-weight: 900; } 
        .f7 { font-family: "Courier", monospace; font-weight: 700; border-bottom: 0.1em solid currentColor; } 
        .f8 { font-family: "Arial Black", sans-serif; font-weight: 900; letter-spacing: 0.1em; transform: scaleX(1.1); transform-origin: left; } 

        /* ЦЕНТРАЛЬНЫЙ СИМВОЛ */
        .giant-bg { 
            font-size: 85vh; font-weight: 900; position: absolute;
            top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #222; opacity: 0.18; z-index: 0; pointer-events: none;
        }
        body.white-mode .giant-bg { color: #ddd; }

        /* ГРАФИКА И АРТЕФАКТЫ */
        .line { position: absolute; background-color: rgba(255,255,255,0.15); z-index: 1; }
        .artifact { position: absolute; background: currentColor; opacity: 0.4; z-index: 200; mix-blend-mode: exclusion; pointer-events: none; }

        .image-container { position: absolute; z-index: 5; filter: grayscale(1) contrast(1.2); mix-blend-mode: difference; transition: all 0.7s ease; }
        .image-container img { width: 100%; height: auto; display: block; }
        
        .image-shadow { opacity: 0.12 !important; filter: grayscale(1) blur(1px); mix-blend-mode: normal; z-index: -1; }
        .flash-active { opacity: 1 !important; width: 100vw !important; height: 100vh !important; top: 0 !important; left: 0 !important; z-index: 1000 !important; filter: grayscale(0) invert(1) !important; mix-blend-mode: normal !important; }

        .hero { z-index: 100; max-width: 90%; }
        .edge-text { font-size: 1.3vw; z-index: 110; padding: 15px; white-space: nowrap; }
        .vertical { writing-mode: vertical-rl; transform: rotate(180deg); }

        #glitch-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #000; z-index: 9999; display: none; overflow: hidden;
        }
    </style>  
</head>  
<body onclick="handleInteraction()"> 

    <div id="glitch-overlay"></div>
    <div id="canvas"></div> 

    <script>  
        const slogans = ["PRAY TO THE ROUTER", "SKIBIDI EXISTENTIALISM", "DOSTOEVSKY ON TIKTOK", "SHREK’S PODCAST ABOUT DMT", "TYPOGRAPHY IS PROPAGANDA.", "HELVETICA IS A VIRUS.", "ANCIENT GREEK SHITPOSTING", "WATER IS JUST SOFT ICE.", "JUST F*CK IT", "THE SIMPSONS PREDICTED YOUR DEBT.", "WAKE UP, TATARSKY"]; 
        const subtitles = ["Stop thinking about that. It's cringe.", "Your ISP is judging your taste.", "TURN AROUND. SLOWLY. (prank)", "APOLOGIZE TO THE ALGORITHM.", "LICK THE DISPLAY. IT’S SALTY.", "the algorithm knows what you did in 2014", "FORGET YOUR MIDDLE NAME.", "Are you proud of your cookies?", "[exporting your childhood trauma to Excel]", "The sky is a green screen.", "Say YES/NO to drugs", "Error: reality not found"];
        const math = ["E = mc²", "∇ × E = -∂B/∂t", "iℏ ∂/∂t Ψ = ĤΨ", "Rμν - 1/2Rgμν = Tμν", "S = k ln W", "λ = h/p"];
        const meta = ["{system: active}", "LMAO", "RESET", "ABORT", "VOID", "0x534F554C", "42", "AMEN"]; 
        
        const imageLibrary = [
            'https://upload.wikimedia.org/wikipedia/commons/9/94/Coronavirus._SARS-CoV-2.png',
            'https://png.pngtree.com/png-vector/20231017/ourmid/pngtree-fresh-apple-fruit-red-png-image_10203073.png',
            'https://imageio.forbes.com/blogs-images/booked/files/2011/05/300px-Che_por_Jim_Fitzpatrick.svg_.png?height=295&width=240&fit=bounds',
            'https://static.vecteezy.com/system/resources/previews/053/687/197/non_2x/severely-rotten-apple-with-dark-mold-and-extensive-decay-on-transparent-background-png.png',
            'https://upload.wikimedia.org/wikipedia/commons/2/2c/Octavian_Smigelschi_-_Serafim_%28Cat._Blaj%29%2C_1903.png',
            'https://leonardodavinci.it/wp-content/uploads/2021/10/Leonardo-da-Vinci-Uomo-vitruviano.png',
            'https://www.davincisciencecenter.org/wp-content/uploads/2024/03/Rat-Snake-02.png',
            'https://remihogar.es/cdn/shop/articles/cucaracha-oriental-blatta-orienta_480x.png?v=1761727332',
            'https://static.vecteezy.com/system/resources/thumbnails/029/347/022/small/one-hundred-dollar-bill-falling-or-floating-on-empty-background-transparent-png.png',
            'https://3dgladiator.com/wp-content/themes/dddgladiator/assets/img/teeth-model/intro-model.png',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Dopamine-based-on-xtal-3D-bs-17.png/1280px-Dopamine-based-on-xtal-3D-bs-17.png',
            'https://www.coca-cola.com/content/dam/onexp/ch/de/brands/coca-cola/new-packshots-december-2024/transparent_background_cco_pet.png',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Cube-h.svg/250px-Cube-h.svg.png',
            'https://reference.wolfram.com/language/ref/Files/SphericalPlot3D.en/O_30.png',
            'https://png.pngtree.com/element_pic/16/11/22/825255d6e652ad7777602cdd4e52f4fe.png',
            'https://pngimg.com/d/cow_PNG50583.png',
            'https://uweed.ch/wp-content/uploads/2025/07/slow-weed-durban-poison-greenhouse-uweed-cbd-shop-02.png',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Illuminati_triangle_eye.png/960px-Illuminati_triangle_eye.png'
        ];

        let isLocked = false;
        const fontClasses = ["f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8"];
        const delay = ms => new Promise(res => setTimeout(res, ms));

        function handleInteraction() {
            if (isLocked) return;
            if (Math.random() < 0.04) triggerHardGlitch();
            else sequentialSpawn();
        }

        async function triggerHardGlitch() {
            isLocked = true;
            const overlay = document.getElementById('glitch-overlay');
            overlay.style.display = 'block'; overlay.innerHTML = '';
            for (let i = 0; i < 20; i++) {
                createEl('element visible ' + fontClasses[Math.floor(Math.random()*8)], meta[Math.floor(Math.random()*meta.length)], {
                    left: Math.random()*100+'%', top: Math.random()*100+'%', fontSize: Math.random()*10+'vw'
                }, overlay);
            }
            await delay(1000);
            overlay.style.display = 'none'; isLocked = false;
            sequentialSpawn();
        }

        async function sequentialSpawn() {  
            const canvas = document.getElementById('canvas'); 
            canvas.innerHTML = ''; 
            
            // ВЕРОЯТНОСТЬ АНОМАЛИИ (10%)
            const isAnomaly = Math.random() < 0.10;
            const isChaos = isAnomaly || Math.random() < 0.3;
            document.body.className = (Math.random() < 0.15) ? 'white-mode' : '';

            // 1. ЦЕНТРАЛЬНЫЙ СИМВОЛ
            createEl('giant-bg f6 visible', Math.random() < 0.1 ? "?" : "P", {});

            // 2. АРТЕФАКТЫ (Только в режиме аномалии)
            if (isAnomaly) {
                for(let i=0; i<6; i++) createArtifact();
            }

            // 3. ЛИНИИ
            const lineCount = isAnomaly ? 3 : 5;
            for (let i = 0; i < lineCount; i++) createLine(!isChaos).classList.add('visible');

            // 4. ИЗОБРАЖЕНИЯ
            if (isAnomaly) {
                // В аномалии — вспышка или гигантская тень
                const type = Math.random() > 0.5 ? 'flash' : 'big';
                createImage(imageLibrary[Math.floor(Math.random()*imageLibrary.length)], type).classList.add('visible');
            } else if (Math.random() > 0.7) {
                // В обычном режиме — 1 картинка как в коде №1
                const type = Math.random() > 0.5 ? 'shadow' : 'normal';
                const img = createImage(imageLibrary[Math.floor(Math.random()*imageLibrary.length)], type);
                if (type === 'normal') { img.style.right = '10%'; img.style.top = '15%'; }
                img.classList.add('visible');
            }

            // 5. ТИПОГРАФИКА
            if (isAnomaly) {
                await layoutAnomalyText(); // Гигантский текст
            } else {
                if (isChaos) await layoutChaos(); else await layoutSwiss();
            }
        }  

        async function layoutAnomalyText() {
            const txt = slogans[Math.floor(Math.random()*slogans.length)];
            const block = createTextBlock(txt, true, { 
                left: '50%', top: '50%', transform: 'translate(-50%, -50%)', textAlign: 'center', width: '100%'
            }, true);
            block.classList.add('visible');
        }

        async function layoutSwiss() {
            createEl('edge-text f6 visible', slogans[Math.floor(Math.random()*slogans.length)], { top: '0', left: '0' });
            createEl('edge-text f2 vertical visible', subtitles[Math.floor(Math.random()*subtitles.length)], { right: '0', top: '0' });
            const block = createTextBlock(slogans[Math.floor(Math.random()*slogans.length)], true, { left: '10%', top: '40%' });
            block.classList.add('visible');
        }

        async function layoutChaos() {
            for(let i=0; i<3; i++) {
                const block = createTextBlock(subtitles[Math.floor(Math.random()*subtitles.length)], i===0, {
                    left: Math.random()*40+'%', top: Math.random()*60+'%',
                    transform: `rotate(${(Math.random()-0.5)*20}deg)`
                });
                block.classList.add('visible');
                await delay(100);
            }
        }

        function createTextBlock(txt, isHero, styles, isGiant = false) {
            const block = createEl(isHero ? 'hero' : 'sub-hero', '', styles);
            let baseSize;
            if (isGiant) baseSize = 25;
            else baseSize = isHero ? (txt.length > 15 ? 8 : 12) : (Math.random()*2 + 3);
            
            block.style.fontSize = baseSize + 'vw';
            txt.split(' ').forEach(word => {
                const span = document.createElement('span');
                span.innerText = word + ' ';
                span.className = fontClasses[Math.floor(Math.random()*8)];
                block.appendChild(span);
            });
            return block;
        }

        function createLine(isGrid) {
            const line = document.createElement('div');
            line.className = 'line element';
            const isVert = Math.random() > 0.5;
            if (isVert) {
                line.style.width = '1px'; line.style.height = '100vh';
                line.style.left = isGrid ? (Math.floor(Math.random()*10)*10) + '%' : Math.random()*100 + '%';
            } else {
                line.style.width = '100vw'; line.style.height = '1px';
                line.style.top = isGrid ? (Math.floor(Math.random()*10)*10) + '%' : Math.random()*100 + '%';
            }
            document.getElementById('canvas').appendChild(line);
            return line;
        }

        function createArtifact() {
            const a = document.createElement('div');
            a.className = 'artifact element visible';
            if (Math.random() > 0.5) {
                a.style.width = '100vw'; a.style.height = '2px'; a.style.top = Math.random()*100+'vh';
            } else {
                a.style.width = '10px'; a.style.height = '40vh'; a.style.left = Math.random()*100+'vw';
            }
            document.getElementById('canvas').appendChild(a);
        }

        function createImage(src, type) {
            const container = document.createElement('div');
            container.className = 'image-container element';
            if (type === 'flash') {
                container.classList.add('flash-active');
                setTimeout(() => container.classList.remove('flash-active'), 800);
            } else if (type === 'shadow') {
                container.classList.add('image-shadow');
                container.style.width = '100vw'; container.style.left = '0'; container.style.top = '0';
            } else if (type === 'big') {
                container.style.width = '60%'; container.style.top = '20%'; container.style.left = '20%';
            } else {
                container.style.width = '20%';
            }
            const img = document.createElement('img');
            img.src = src;
            container.appendChild(img);
            document.getElementById('canvas').appendChild(container);
            return container;
        }

        function createEl(cls, txt, styles, parent = null) {  
            const div = document.createElement('div');  
            div.className = 'element ' + cls;  
            if (txt) div.innerText = txt;  
            Object.assign(div.style, styles);  
            (parent || document.getElementById('canvas')).appendChild(div);  
            return div;  
        }  

        window.onload = sequentialSpawn;  
    </script>  
</body>  
</html>
