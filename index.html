<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ORACLE.P | KINDLE ARTIFACT</title>  
    <style>  
        :root { --bg: #000; --fg: #fff; }
        .white-mode { --bg: #fff; --fg: #000; }

        body, html {  
            margin: 0; padding: 0; width: 100%; height: 100%;  
            background-color: var(--bg); color: var(--fg);  
            overflow: hidden; text-transform: uppercase;  
            -webkit-user-select: none;  
            font-family: "Courier New", Courier, monospace;
        }  

        #canvas { position: relative; width: 100vw; height: 100vh; }  
        .element { position: absolute; word-wrap: break-word; line-height: 0.8; }  

        /* ТИПОГРАФИКА */
        .f-giant { font-family: "Arial Black", sans-serif; font-weight: 900; letter-spacing: -0.05em; }
        .f-mono { font-family: "Courier New", monospace; font-weight: 400; }
        .f-swiss { font-family: "Helvetica", Arial, sans-serif; font-weight: 900; }
        .f-serif { font-family: "Georgia", serif; font-style: italic; text-transform: none; }

        /* АРТЕФАКТЫ */
        .line { position: absolute; background-color: var(--fg); opacity: 0.8; }
        .perimeter { font-size: 10px; opacity: 0.7; white-space: nowrap; z-index: 100; }
        
        .artifact-box { border: 2px solid var(--fg); background: var(--bg); }
        
        .image-container { 
            position: absolute; 
            z-index: 5; 
            filter: grayscale(1) contrast(2); /* Идеально для E-ink */
        }
        .image-container img { width: 100%; height: auto; display: block; }

        #glitch-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: var(--bg); z-index: 9999; display: none; 
        }

        /* Убираем плавность для Kindle, чтобы избежать лишнего мерцания */
        * { transition: none !important; }
    </style>  
</head>  
<body onclick="handleInteraction()">  

    <div id="glitch-overlay"></div>
    <div id="canvas"></div>  

    <script>  
        const slogans = ["REBOOT THE SOUL", "NULL_PTR_EXCP", "BUFFER OVERFLOW", "E-INK BLEEDING", "VOID_NULL", "STAY_AWAY", "SYSTEM_FAILURE", "DATA_GHOST", "SIGNAL_LOST", "ALGORITHM_GOD"]; 
        const nonsense = ["0xDEADBEEF", "000110101", "CRITICAL_ERR", "LOREM_IPSUM_SHIT", "RE_SYNC", "FATAL", "B_L_A_N_K"];
        const library = [
          'https://upload.wikimedia.org/wikipedia/commons/9/94/Coronavirus._SARS-CoV-2.png',
            'https://png.pngtree.com/png-vector/20231017/ourmid/pngtree-fresh-apple-fruit-red-png-image_10203073.png',
            'https://imageio.forbes.com/blogs-images/booked/files/2011/05/300px-Che_por_Jim_Fitzpatrick.svg_.png?height=295&width=240&fit=bounds',
            'https://static.vecteezy.com/system/resources/previews/053/687/197/non_2x/severely-rotten-apple-with-dark-mold-and-extensive-decay-on-transparent-background-png.png',
            'https://upload.wikimedia.org/wikipedia/commons/2/2c/Octavian_Smigelschi_-_Serafim_%28Cat._Blaj%29%2C_1903.png',
            'https://leonardodavinci.it/wp-content/uploads/2021/10/Leonardo-da-Vinci-Uomo-vitruviano.png',
            'https://www.davincisciencecenter.org/wp-content/uploads/2024/03/Rat-Snake-02.png',
            'https://remihogar.es/cdn/shop/articles/cucaracha-oriental-blatta-orienta_480x.png?v=1761727332',
            'https://static.vecteezy.com/system/resources/thumbnails/029/347/022/small/one-hundred-dollar-bill-falling-or-floating-on-empty-background-transparent-png.png',
            'https://3dgladiator.com/wp-content/themes/dddgladiator/assets/img/teeth-model/intro-model.png',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Dopamine-based-on-xtal-3D-bs-17.png/1280px-Dopamine-based-on-xtal-3D-bs-17.png',
            'https://www.coca-cola.com/content/dam/onexp/ch/de/brands/coca-cola/new-packshots-december-2024/transparent_background_cco_pet.png',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Cube-h.svg/250px-Cube-h.svg.png',
            'https://reference.wolfram.com/language/ref/Files/SphericalPlot3D.en/O_30.png',
            'https://png.pngtree.com/element_pic/16/11/22/825255d6e652ad7777602cdd4e52f4fe.png',
            'https://pngimg.com/d/cow_PNG50583.png',
            'https://experiencelife.lifetime.life/wp-content/uploads/2021/02/Talking-Trash-e1746736243231.jpg',
            'https://uweed.ch/wp-content/uploads/2025/07/slow-weed-durban-poison-greenhouse-uweed-cbd-shop-02.png',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Illuminati_triangle_eye.png/960px-Illuminati_triangle_eye.png'
        ];

        function handleInteraction() {
            if (Math.random() < 0.15) triggerHardGlitch();
            else spawn();
        }

        function triggerHardGlitch() {
            const overlay = document.getElementById('glitch-overlay');
            overlay.style.display = 'block';
            overlay.innerHTML = '';
            for(let i=0; i<30; i++) {
                createEl('f-mono', nonsense[Math.floor(Math.random()*nonsense.length)], {
                    left: Math.random()*100+'%', top: Math.random()*100+'%',
                    fontSize: Math.random()*15+'vw', color: Math.random() > 0.5 ? '#fff' : '#888'
                }, overlay);
            }
            setTimeout(() => { overlay.style.display = 'none'; spawn(); }, 400);
        }

        function spawn() {
            const canvas = document.getElementById('canvas');
            canvas.innerHTML = '';
            document.body.className = Math.random() < 0.3 ? 'white-mode' : '';
            
            const isChaos = Math.random() < 0.3; // 30% шанса на "крутую жесть"

            // 1. ПЕРИМЕТР (Бессмыслица по краям)
            createPerimeter();

            // 2. ЛИНИИ (как во втором коде)
            const lineCount = isChaos ? 15 : 4;
            for(let i=0; i<lineCount; i++) createLine(!isChaos);

            // 3. ТЕКСТ
            if (isChaos) {
                for(let i=0; i<5; i++) {
                    createTextBlock(slogans[Math.floor(Math.random()*slogans.length)], 
                        { left: Math.random()*60+'%', top: Math.random()*80+'%', transform: `rotate(${(Math.random()-0.5)*40}deg)` });
                }
            } else {
                // Строгая композиция
                createTextBlock(slogans[Math.floor(Math.random()*slogans.length)], 
                    { left: '10%', top: '40%', fontSize: '15vw' }, 'f-giant');
                createEl('f-mono', nonsense[0], { right: '5%', bottom: '5%', fontSize: '3vw' });
            }

            // 4. ИЗОБРАЖЕНИЕ
            if (Math.random() > 0.4) {
                const img = createImage(library[Math.floor(Math.random()*library.length)]);
                if (!isChaos) { img.style.right = '5%'; img.style.top = '5%'; img.style.width = '30%'; }
            }
        }

        function createPerimeter() {
            const top = createEl('perimeter f-mono', new Array(10).fill('0').map(() => Math.random().toString(16).slice(2,8)).join(' '), { top: '5px', left: '5px' });
            const bot = createEl('perimeter f-mono', "RE-SYNC_" + Date.now() + " // STATUS_OK", { bottom: '5px', right: '5px' });
            const left = createEl('perimeter f-mono', "VOID ".repeat(20), { top: '50%', left: '-40px', transform: 'rotate(-90deg)' });
        }

        function createLine(isGrid) {
            const line = document.createElement('div');
            line.className = 'line';
            const isVert = Math.random() > 0.5;
            if (isVert) {
                line.style.width = '1px'; line.style.height = '100vh';
                line.style.left = isGrid ? (Math.floor(Math.random()*10)*10) + '%' : Math.random()*100 + '%';
            } else {
                line.style.width = '100vw'; line.style.height = '1px';
                line.style.top = isGrid ? (Math.floor(Math.random()*10)*10) + '%' : Math.random()*100 + '%';
            }
            document.getElementById('canvas').appendChild(line);
        }

        function createTextBlock(txt, styles, fontClass = 'f-swiss') {
            const div = createEl(fontClass, '', styles);
            div.style.fontSize = styles.fontSize || (Math.random()*10 + 10) + 'vw';
            txt.split(' ').forEach(w => {
                const span = document.createElement('span');
                span.innerText = w + ' ';
                span.style.color = Math.random() > 0.8 ? '#888' : 'inherit';
                div.appendChild(span);
            });
        }

        function createImage(src) {
            const container = document.createElement('div');
            container.className = 'image-container';
            container.style.width = (Math.random()*40 + 20) + '%';
            container.style.top = Math.random()*60 + '%';
            container.style.left = Math.random()*60 + '%';
            const img = document.createElement('img');
            img.src = src;
            container.appendChild(img);
            document.getElementById('canvas').appendChild(container);
            return container;
        }

        function createEl(cls, txt, styles, parent = null) { 
            const div = document.createElement('div'); 
            div.className = 'element ' + cls; 
            if (txt) div.innerText = txt; 
            Object.assign(div.style, styles); 
            (parent || document.getElementById('canvas')).appendChild(div); 
            return div; 
        }

        window.onload = spawn;
    </script> 
</body> 
</html>
