<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ORACLE.P | ECAL SUBSTRATE</title>  
    <style>  
        body, html {  
            margin: 0; padding: 0; width: 100%; height: 100%;  
            background-color: #000; color: #fff; 
            overflow: hidden; text-transform: uppercase;  
            -webkit-user-select: none;  
            font-family: "Helvetica Neue", Arial, sans-serif;
        }  

        body.white-mode { background-color: #fff; color: #000; }
        body.white-mode .line { background-color: #000; }
        
        #canvas { position: relative; width: 100vw; height: 100vh; overflow: hidden; }  
        .element { position: absolute; word-wrap: break-word; line-height: 0.85; opacity: 0; transition: opacity 0.3s; }  
        .visible { opacity: 1 !important; }

        /* ШРИФТЫ ECAL STYLE */  
        .f1 { font-family: "Impact", sans-serif; font-weight: 800; letter-spacing: -0.02em; } 
        .f2 { font-family: "Helvetica Neue", sans-serif; font-weight: 200; letter-spacing: 0.05em; } 
        .f3 { font-family: "Georgia", serif; font-style: italic; text-transform: none; } 
        .f4 { font-family: "Courier New", monospace; font-weight: 400; letter-spacing: 0; } 
        .f5 { font-family: "Arial Black", sans-serif; font-weight: 800; transform: scaleX(0.9); transform-origin: left; } 
        .f6 { font-family: "Helvetica", sans-serif; font-weight: 900; } 
        .f7 { font-family: "Courier", monospace; font-weight: 700; border-bottom: 0.1em solid currentColor; } 
        .f8 { font-family: "Arial Black", sans-serif; font-weight: 900; letter-spacing: 0.1em; transform: scaleX(1.1); transform-origin: left; } 

        .giant-p { 
            font-size: 65vh; font-weight: 800; z-index: 0; 
            position: absolute; top: 5%; left: -5%; 
            color: #222; 
            opacity: 0.2; pointer-events: none; line-height: 0.6;
        }  
        /* Класс для случайного гигантского символа на фоне */
        .giant-char {
            font-size: 90vh; font-weight: 900; position: absolute;
            top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #222; opacity: 0.15; z-index: 0; pointer-events: none;
        }
        body.white-mode .giant-p, body.white-mode .giant-char { color: #ddd; }
        
        .line { position: absolute; background-color: rgba(255,255,255,0.2); z-index: 1; }
        .image-container { position: absolute; z-index: 5; filter: invert(1) grayscale(1); mix-blend-mode: difference; }
        .image-container img { width: 100%; height: auto; display: block; image-rendering: pixelated; }

        .hero { z-index: 100; max-width: 90%; }
        .hero span { display: inline-block; } 

        .meta-footer { position: absolute; bottom: 40px; right: 40px; z-index: 110; font-size: 2vw; text-align: right; opacity: 0.6; }

        #glitch-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #000; z-index: 9999; display: none; overflow: hidden;
        }
    </style>  
</head>  
<body onclick="handleInteraction()">  

    <div id="glitch-overlay"></div>
    <div id="canvas">
        <div class="element giant-p f1 visible">P</div>
    </div>  

    <script>  
        const slogans = ["PRAY TO THE ROUTER", "SKIBIDI EXISTENTIALISM", "DOSTOEVSKY ON TIKTOK", "SHREK’S PODCAST ABOUT DMT", "TYPOGRAPHY IS PROPAGANDA", "HELVETICA IS A VIRUS", "ANCIENT GREEK SHITPOSTING", "WATER IS JUST SOFT ICE", "JUST F*CK IT", "THE SIMPSONS PREDICTED YOUR DEBT", "WAKE UP, TATARSKY"]; 
        const subtitles = ["Stop thinking about that. It's cringe.", "Your ISP is judging your taste.", "TURN AROUND. SLOWLY", "APOLOGIZE TO THE ALGORITHM", "LICK THE DISPLAY. IT’S SALTY.", "FORGET YOUR MIDDLE NAME.", "The sky is a green screen", "Say YES/NO to drugs"];
        const meta = ["{status: waiting}", "LMAO", "RESET", "ABORT", "VOID", "BRUH", "0x534F554C", "42", "AMEN", "100%"];  
        
        const imageLibrary = [
            'https://24smi.org/public/media/290x360/celebrity/2016/04/29/1461942758-vanga.jpg',
            'https://images-cdn.ubuy.co.in/63a07047a023683963549705-laminated-pop-art-che-guevara-portrait.jpg',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Anonymous_emblem.svg/1280px-Anonymous_emblem.svg.png',
            'https://png.pngtree.com/png-vector/20231017/ourmid/pngtree-fresh-apple-fruit-red-png-image_10203073.png'
        ];

        let isLocked = false;
        const fontClasses = ["f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8"];
        const delay = ms => new Promise(res => setTimeout(res, ms));

        function handleInteraction() {
            if (isLocked) return;
            if (Math.random() < 0.04) triggerHardGlitch();
            else sequentialSpawn();
        }

        async function triggerHardGlitch() {
            isLocked = true;
            const overlay = document.getElementById('glitch-overlay');
            overlay.style.display = 'block';
            overlay.innerHTML = '';
            
            for (let i = 0; i < 40; i++) {
                const txt = meta[Math.floor(Math.random()*meta.length)];
                const char = document.createElement('div');
                char.className = 'element visible ' + fontClasses[Math.floor(Math.random()*8)];
                char.style.cssText = `left:${Math.random()*100}%; top:${Math.random()*100}%; font-size:${Math.random()*20}vw; color:#fff; opacity: ${Math.random()}; transform: rotate(${Math.random()*360}deg);`;
                char.innerText = txt;
                overlay.appendChild(char);
            }
            await delay(2000);
            overlay.style.display = 'none';
            isLocked = false;
            sequentialSpawn();
        }

        async function sequentialSpawn() {  
            const canvas = document.getElementById('canvas'); 
            const p = canvas.querySelector('.giant-p');
            canvas.innerHTML = ''; canvas.appendChild(p);
            
            const isSwissGrid = Math.random() < 0.4;
            document.body.className = (Math.random() < 0.15) ? 'white-mode' : '';

            // Редкий шанс на гигантский фоновый символ
            if (Math.random() < 0.2) {
                const slogan = slogans[Math.floor(Math.random()*slogans.length)];
                createEl('giant-char f6 visible', slogan[0], { opacity: 0.1 });
            }

            const lineCount = isSwissGrid ? 5 : Math.floor(Math.random()*3);
            for (let i = 0; i < lineCount; i++) {
                const line = createLine(isSwissGrid);
                await delay(10);
                line.classList.add('visible');
            }

            const layoutMode = Math.random();
            // Шанс 10% на Мега-лэйаут
            if (layoutMode < 0.1) await layoutMega();
            else if (layoutMode < 0.4) await layoutCentered();
            else if (layoutMode < 0.7) await layoutStructured();
            else await layoutRandom();

            const footer = createEl('meta-footer f-mono', meta[Math.floor(Math.random()*meta.length)], {});
            await delay(50);
            footer.classList.add('visible');
        }  

        // НОВЫЙ ЛЭЙАУТ: Насыщенная композиция
        async function layoutMega() {
            // Много текста
            for(let i=0; i<6; i++) {
                const txt = i < 2 ? slogans[Math.floor(Math.random()*slogans.length)] : subtitles[Math.floor(Math.random()*subtitles.length)];
                const block = createTextBlock(txt, i<2, {
                    left: (Math.random()*60) + '%', 
                    top: (i * 15 + 5) + '%',
                    zIndex: 10 + i
                });
                block.classList.add('visible');
                await delay(100);
            }
            // Стек картинок
            for(let i=0; i<3; i++) {
                if (Math.random() > 0.3) {
                    const img = createImage(imageLibrary[Math.floor(Math.random()*imageLibrary.length)], false);
                    img.style.left = (20 + i*15) + '%';
                    img.style.top = (20 + i*10) + '%';
                    img.classList.add('visible');
                    await delay(100);
                }
            }
        }

        async function layoutCentered() {
            const block = createTextBlock(slogans[Math.floor(Math.random()*slogans.length)], true, {
                left: '50%', top: '50%', transform: 'translate(-50%, -50%)', textAlign: 'center'
            });
            await delay(100);
            block.classList.add('visible');
        }

        async function layoutStructured() {
            const t1 = createTextBlock(slogans[Math.floor(Math.random()*slogans.length)], true, { left: '8%', top: '15%' });
            t1.classList.add('visible');
            await delay(150);
            if (Math.random() > 0.3) {
                const img = createImage(imageLibrary[Math.floor(Math.random()*imageLibrary.length)], true);
                img.classList.add('visible');
            }
            const t2 = createTextBlock(subtitles[Math.floor(Math.random()*subtitles.length)], false, { right: '8%', top: '75%', textAlign: 'right' });
            t2.classList.add('visible');
        }

        async function layoutRandom() {
            const layers = Math.floor(Math.random()*3) + 2; 
            for(let i=0; i<layers; i++) {
                const isHero = i === 0;
                const txt = isHero ? slogans[Math.floor(Math.random()*slogans.length)] : subtitles[Math.floor(Math.random()*subtitles.length)];
                const block = createTextBlock(txt, isHero, {
                    left: Math.random()*50+5 + '%', 
                    top: Math.random()*70+5 + '%',
                    transform: `rotate(${(Math.random()-0.5)*6}deg)`
                });
                await delay(100);
                block.classList.add('visible');
            }
        }

        function createTextBlock(txt, isHero, styles) {
            const block = createEl(isHero ? 'hero' : 'sub-hero', '', styles);
            let baseSize = isHero ? (txt.length > 15 ? 8 : 12) : (Math.random()*2 + 3);
            
            // Экстремальный размер с шансом 15%
            if (isHero && Math.random() < 0.15) baseSize = 22; 
            
            block.style.fontSize = baseSize + 'vw';
            
            txt.split(' ').forEach(word => {
                const span = document.createElement('span');
                span.innerText = word + ' ';
                span.className = fontClasses[Math.floor(Math.random()*8)];
                block.appendChild(span);
            });
            return block;
        }

        function createEl(cls, txt, styles) {  
            const div = document.createElement('div');  
            div.className = 'element ' + cls;  
            if (txt) div.innerText = txt;  
            Object.assign(div.style, styles);  
            document.getElementById('canvas').appendChild(div);  
            return div;  
        }  

        function createLine(isGrid) {
            const line = document.createElement('div');
            line.className = 'line element';
            const isVert = Math.random() > 0.5;
            const thick = Math.random() > 0.9 ? '2px' : '1px';
            if (isVert) {
                line.style.width = thick; line.style.height = '100vh';
                line.style.left = isGrid ? (Math.floor(Math.random()*12)*(100/12)) + '%' : Math.random()*100 + '%';
            } else {
                line.style.width = '100vw'; line.style.height = thick;
                line.style.top = isGrid ? (Math.floor(Math.random()*16)*(100/16)) + '%' : Math.random()*100 + '%';
            }
            document.getElementById('canvas').appendChild(line);
            return line;
        }

        function createImage(src, isBig) {
            const container = document.createElement('div');
            container.className = 'image-container element';
            container.style.width = isBig ? (Math.random()*25 + 25) + '%' : (Math.random()*12 + 8) + '%';
            container.style.top = Math.random()*60 + '%';
            container.style.left = Math.random()*60 + '%';
            const img = document.createElement('img');
            img.src = src;
            container.appendChild(img);
            document.getElementById('canvas').appendChild(container);
            return container;
        }

        window.onload = sequentialSpawn;  
    </script>  
</body>  
</html>
