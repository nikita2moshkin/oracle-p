<!DOCTYPE html>  
<html lang="ru">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ORACLE.P | SEQUENTIAL EDITION</title>  
    <style>  
        body, html {  
            margin: 0; padding: 0; width: 100%; height: 100%;  
            background-color: #000; color: #fff; 
            overflow: hidden; text-transform: uppercase;  
            -webkit-user-select: none;  
            font-family: "Helvetica Neue", Arial, sans-serif;
        }  

        body.white-mode { background-color: #fff; color: #000; }
        body.white-mode .line { background-color: #000; }
        
        #canvas { position: relative; width: 100vw; height: 100vh; overflow: hidden; }  
        .element { position: absolute; word-wrap: break-word; line-height: 0.8; opacity: 0; transition: opacity 0.3s; }  
        .visible { opacity: 1; }

        /* 7 ШРИФТОВЫХ СТИЛЕЙ */  
        .f1 { font-family: "Impact", sans-serif; font-weight: 900; letter-spacing: -2px; } 
        .f2 { font-family: "Helvetica Neue", sans-serif; font-weight: 200; letter-spacing: 4px; } 
        .f3 { font-family: "Georgia", serif; font-style: italic; text-transform: none; } 
        .f4 { font-family: "Courier New", monospace; font-weight: 400; letter-spacing: -3px; } 
        .f5 { font-family: "Arial Black", sans-serif; font-weight: 900; transform: scaleX(0.75); transform-origin: left; } 
        .f6 { font-family: "Helvetica", sans-serif; font-weight: 900; letter-spacing: -1px; } 
        .f7 { font-family: "Courier", monospace; font-weight: 700; border-bottom: 3px solid currentColor; } 

        /* Статичная P */
        .giant-p { 
            font-size: 50vh; font-weight: 900; z-index: 0; 
            position: absolute; top: -5%; left: -5%; 
            opacity: 0.4; pointer-events: none; line-height: 0.7;
        }  
        
        .line { position: absolute; background-color: rgba(255,255,255,0.4); z-index: 1; }
        .image-container { position: absolute; filter: invert(1) grayscale(1); mix-blend-mode: difference; z-index: 5; }
        .image-container img { width: 100%; height: auto; display: block; image-rendering: pixelated; }

        .hero { z-index: 100; max-width: 95%; }
        .hero span { display: inline-block; margin-right: 12px; } 
    </style>  
</head>  
<body onclick="handleInteraction()">  

    <div id="canvas">
        <div class="element giant-p f1 visible">P</div>
    </div>  

    <script>  
        const slogans = [
            "PRAY TO THE ROUTER", "SKIBIDI EXISTENTIALISM", "DOSTOEVSKY ON TIKTOK", 
            "SHREK’S PODCAST ABOUT DMT", "TYPOGRAPHY IS PROPAGANDA.", "HELVETICA IS A VIRUS.",
            "ANCIENT GREEK SHITPOSTING", "WATER IS JUST SOFT ICE.", "JUST F*CK IT", 
            "THE SIMPSONS PREDICTED YOUR DEBT.", "WAKE UP, TATARSKY"
        ];  
        
        const subtitles = [
            "Stop thinking about that. It's cringe.", "Your ISP is judging your taste.",
            "TURN AROUND. SLOWLY. (prank)", "APOLOGIZE TO THE ALGORITHM.",
            "LICK THE DISPLAY. IT’S SALTY.", "FORGET YOUR MIDDLE NAME.",
            "[exporting your childhood trauma to Excel]", "The sky is a green screen.",
            "Say YES/NO to drugs", "Error: reality not found"
        ];

        const meta = ["{status: waiting}", "LMAO", "RESET", "ABORT", "VOID", "BRUH", "0x534F554C", "42", "AMEN", "100%"];  
        
        // Разделение библиотек
        const bigImgLib = [
            'https://24smi.org/public/media/290x360/celebrity/2016/04/29/1461942758-vanga.jpg',
            'https://images-cdn.ubuy.co.in/63a07047a023683963549705-laminated-pop-art-che-guevara-portrait.jpg',
            'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Anonymous_emblem.svg/1280px-Anonymous_emblem.svg.png'
        ];
        const smallImgLib = [
            'https://i.redd.it/2m5h881d4uh81.jpg',
            'https://png.pngtree.com/png-vector/20231017/ourmid/pngtree-fresh-apple-fruit-red-png-image_10203073.png',
            'https://i.pinimg.com/originals/7e/eb/7a/7eeb7aabf1fd4b18f99f77a70c69a34b.png',
            'https://images3.cgb.fr/images/billets/b94/b94_4375a.jpg'
        ];

        let clickCounter = 0;
        const fontClasses = ["f1", "f2", "f3", "f4", "f5", "f6", "f7"];

        function handleInteraction() {
            clickCounter++;
            sequentialSpawn();
        }

        async function sequentialSpawn() {
            const canvas = document.getElementById('canvas');
            const modeRnd = Math.random();
            const isHardChaos = modeRnd < 0.05; // 5% шанс на жесткий хаос
            const isClean = !isHardChaos && modeRnd < 0.45; // 40% на чистый стиль
            
            // Очистка кроме P
            const p = canvas.querySelector('.giant-p');
            canvas.innerHTML = '';
            canvas.appendChild(p);
            
            document.body.className = (Math.random() < 0.1) ? 'white-mode' : '';

            // 1. Линии
            const lineCount = isClean ? Math.floor(Math.random()*3) : (isHardChaos ? 15 : 8);
            for (let i = 0; i < lineCount; i++) {
                createLine(isHardChaos || !isClean);
                await delay(40);
            }

            // 2. Картинки (Реже)
            if (Math.random() < 0.4 || isHardChaos) {
                const count = isHardChaos ? 2 : 1;
                const usedSrc = new Set();
                for(let i = 0; i < count; i++) {
                    const isBig = Math.random() < 0.5;
                    const lib = isBig ? bigImgLib : smallImgLib;
                    let src = lib[Math.floor(Math.random()*lib.length)];
                    if(!usedSrc.has(src)) {
                        createImage(src, isBig);
                        usedSrc.add(src);
                        await delay(100);
                    }
                }
            }

            // 3. Тексты
            const textCount = isHardChaos ? 8 : (isClean ? 1 : Math.floor(Math.random()*3)+1);
            for(let i = 0; i < textCount; i++) {
                const isHero = (i === 0);
                const isVertical = Math.random() < 0.2 && !isClean;
                const list = (isHero && !isHardChaos) ? slogans : (Math.random() > 0.5 ? subtitles : meta);
                
                const font = fontClasses[Math.floor(Math.random()*fontClasses.length)];
                const txt = list[Math.floor(Math.random()*list.length)];

                const block = createEl(isHero ? 'hero' : 'sub-hero', '', {
                    left: (Math.random()*60+5)+'%',
                    top: (Math.random()*70+10)+'%',
                    fontSize: isHero ? (Math.random()*5 + 12) + 'vw' : (Math.random()*3 + 4) + 'vw',
                    transform: isVertical ? 'rotate(90deg)' : `rotate(${(Math.random()*4-2)}deg)`,
                    transformOrigin: 'left top'
                });

                txt.split(' ').forEach(word => {
                    const span = document.createElement('span');
                    span.innerText = word + ' ';
                    span.className = fontClasses[Math.floor(Math.random()*fontClasses.length)];
                    block.appendChild(span);
                });

                setTimeout(() => block.classList.add('visible'), 10);
                await delay(150);
            }
        }

        function createEl(cls, txt, styles) {  
            const div = document.createElement('div');  
            div.className = 'element ' + cls;  
            if (txt) div.innerText = txt;  
            Object.assign(div.style, styles);  
            document.getElementById('canvas').appendChild(div);  
            return div;  
        }  

        function createLine(showGrid) {
            const line = document.createElement('div');
            line.className = 'line element';
            const isVert = Math.random() > 0.5;
            if (isVert) {
                line.style.width = '1px'; line.style.height = '100vh';
                line.style.left = showGrid ? (Math.floor(Math.random()*10)*10) + '%' : (Math.random() * 100) + '%';
            } else {
                line.style.width = '100vw'; line.style.height = '1px';
                line.style.top = showGrid ? (Math.floor(Math.random()*10)*10) + '%' : (Math.random() * 100) + '%';
            }
            document.getElementById('canvas').appendChild(line);
            setTimeout(() => line.classList.add('visible'), 10);
        }

        function createImage(src, isBig) {
            const container = document.createElement('div');
            container.className = 'image-container element';
            container.style.width = isBig ? (Math.random() * 30 + 50) + '%' : (Math.random() * 15 + 10) + '%';
            container.style.top = (Math.random() * 50) + '%';
            container.style.left = (Math.random() * 50) + '%';
            const img = document.createElement('img');
            img.src = src;
            container.appendChild(img);
            document.getElementById('canvas').appendChild(container);
            setTimeout(() => container.classList.add('visible'), 10);
        }

        function delay(ms) { return new Promise(res => setTimeout(res, ms)); }

        window.onload = sequentialSpawn;  
    </script>  
</body>  
</html>
